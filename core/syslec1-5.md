# express

## はじめに
これからサーバーを建てることになるんですが、クライアントとサーバー、どっちの立場でGET、POST通信の話をしているかをしっかりと区別しましょう。具体的には、今書いているコードはGET通信をするほうなのか、されるほうなのかしっかり区別をつけましょう。そのうえで、このテキストを読まないと、今、自分はなんの処理を書いているのかがまったくわからなくなっていしまいます。 

## 内容に入るよ

さて、前回はデフォルトで入っている`http`というパッケージを使って、実際にサーバーを建ててみました。思い返すと、あれはGET通信される、POST通信される側の処理を書いているのでした。

`http`のパッケージは、デフォルトということもあり、基本的な機能しかついていなく使いづらいです。具体的には、サーバーのルーティングやGET、POST通信の使い分け、ミドルウェアの作成などが面倒です。

というわけで、より機能がついている`express`というパッケージを使って、まずはサーバーを建ててみたいと思います。

まずは、
```
npm install express
```
で、パッケージをインストールしてください。

まずはexpressでサーバーを建てましょう。

```javascript
const express = require("express")
const app = express()

app.get("/", (request, response) => {
    response.send("Hello World!")
    response.end()
})

app.listen(3000)
```

以上を実行してみてください。そして、[http://localhost:3000](http://localhost:3000)にアクセスしてみてください。ちゃんと表示されましたか？ 簡単に書けますね。

では、詳しい（関数の使い方の）説明に移りたいと思います。

```javascript
const express = require("express")
const app = express()
```
ここの部分はおまじないでいいです。こういうものだと思いましょう。

```javascript
app.get("/", (request, response) => {
    response.send("Hello World!")
    response.end()
})
```
この関数からです。この関数はGET通信が**された**際の処理について書かれています。第一引数はurlです。え？ 短くないって？ これより上のurlはこのサーバーが立っている場所を指定するもので、その後のurlについての指定をしています。

今回の例では、`http://localhost:3000`までがこのプログラムのサーバーをさすurlで、その下の`/`というところは、`http://localhost:3000/`という場所をさすことになります。つまり、`/hoge`とかにすれば、`http://localhost:3000/hoge`についての処理を書くことになります。

第二引数について見ていきたいと思います。これは関数ですね。requestやresponseのメソッドを実行することで、いろいろな処理を書くことができます。いちおう、request、responseに何が入っているのかをみましょうか。

[expressのリファレンス]()


